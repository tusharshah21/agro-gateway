extends ao_layout.pug 

block content 
    if messages
        each message in messages
            .alert.alert-success.alert-dismissible.fade.show.position-fixed.top-0.start-50.translate-middle-x(role="alert") 
                span #{message}
                button.btn-close(type="button" data-bs-dismiss="alert")
    .container-fluid.mt-3
        //- select.form-select.mb-3
        //-     option(value="") Apply filter
        //-     option(value="farmerone") Farmer One
        //-     option(value="urbanfarmer") Urban Farmer 
        //-     //- option(value="generalpublic") General Public 
        .tables
            table.table.table-striped.table-sm
                thead
                    tr
                        th(scope='col') #
                        //- th(scope="col") 
                        th(scope='col') Preview
                        th(scope='col') Product
                        th(scope="col") Produce Type
                        th(scope='col') Units
                        th(scope='col') Owner  
                        th(scope='col') Ward   
                        th(scope='col') Details



                tbody
                    if produce.length>0
                        each product,index in produce
                            tr
                                th(scope='row') #{index+1}
                                td
                                    img(src="/"+product.produceimg alt="" srcset="" height="35")
                                td #{product.producename}
                                td #{product.producetype}
                                td #{product.quantity}                                
                                td.fst-italic.text-muted #{product.fullname}
                                td #{product.ward} 
                                //- if product.status=="approved"
                                //-     td.text-success.fw-bold #{product.status}
                                //- else 
                                //-     td #{product.status}
                                td 
                                    a(href="" data-bs-toggle="modal" data-bs-target="#productpage"+product._id)
                                        span.material-icons-outlined.ms-3  info

                                //-* Modal
                                .modal.fade(tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true' id="productpage"+product._id)
                                    .modal-dialog.modal-dialog-centered.modal-lg
                                        .modal-content
                                            .modal-body
                                                .container-fluid.d-flex.flex-sm-row.justify-content-center
                                                    .body.d-flex.rounded
                                                        .img.me-3
                                                            img.rounded(src='/'+product.produceimg alt='' srcset='' width='300px' height='300px')
                                                            .price.fw-bold.mt-5.text-center ₹ #{new Intl.NumberFormat().format(product.price)}/-  

                                                        .details.ms-3
                                                            .title
                                                                h3.text-capitalize.fw-bold #{product.producename}
                                                                p.text-capitalize #{product.organic} #{product.producename}
                                                            .stars.my-2.text-warning
                                                                span.material-icons-outlined star
                                                                span.material-icons-outlined star
                                                                span.material-icons-outlined star
                                                                span.material-icons-outlined star
                                                                span.material-icons-outlined star_half
                                                            .decription
                                                                h5 Lorem ipsum dolor sit amet.
                                                                p
                                                                    | Lorem ipsum dolor sit amet consectetur adipisicing elit.
                                                                    | Blanditiis soluta odit totam nam maiores in vel,
                                                                    | doloribus nulla ab esse!

                                                                p.btn.btn-outline-success.btn-sm.me-3 #{product.payment}
                                                                p.btn.btn-outline-success.btn-sm #{product.modeofdelivery}
                                                                p.text-capitalize #{product.availability}
                                                            //- .input-group.mb-3
                                                            //-     span#quantity.input-group-text Units
                                                            //-     input.form-control(type='number' value='1' aria-label='quantity' aria-describedby='quantity')
                                                            .phone.d-flex
                                                                p.mx-auto 
                                                                    span.material-icons-outlined phone 
                                                                    a.text-decoration-none(href="tel:+256"+user.phonenumber) +256 #{user.phonenumber}
                                                                p.mx-auto
                                                                    span.material-icons-outlined mail 
                                                                    a.text-decoration-none(href="mailto:"+user.email) #{user.email}

                    else 
                        tr 
                            th(scope="row") 0
                            td.text-center.text-danger(colspan="100") No Uploaded Produce


                            //- td 120
                            //- td ₹ 180000

                    //- tr
                    //-     th(scope='row') 2
                    //-     td 
                    //-         img(src="/images/product-2.png" alt="" srcset="" height="35")
                    //-     td Tomatoes
                    //-     td ₹ 300
                    //-     td 300
                    //-     td ₹ 90000
                    //- tr
                    //-     th(scope='row') 3
                    //-     td
                    //-         img(src="/images/product-3.png" alt="" srcset="" height="40")

                    //-     td Oranges
                    //-     td ₹ 500
                    //-     td 190
                    //-     td ₹ 195000
                    //- tr
                    //-     th(scope='row') 4
                    //-     td
                    //-         img(src="/images/product-4.png" alt="" srcset="" height="35")
                    //-     td Milk
                    //-     td ₹ 49.9
                    //-     td 120
                    //-     td ₹ 240000

